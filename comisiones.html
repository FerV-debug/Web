<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Children of Anima</title>
  <link rel="stylesheet" href="estilos.css"> 
</head>
<body>
<header>  
  <div class="wrapper">
    <main>
      <nav class="menu">

        <div class="contenido-superior">
          <div class="logo">
            <img src="imagenes/ico2.png" alt="Logo" />
          </div>
          <div class="titulo">
            <img src="imagenes/titulo1.png" alt="Título del juego" />
          </div>
        </div>
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="galeria.html">Galería</a></li>
          <li><a href="blog.html">Diario</a></li>
          <li><a href="comisiones.html">Comisiones</a></li>
          <li><a href="contacto.html">Contacto</a></li>
        </ul>

        <h1>Un juego de fantasía RPG en 2D</h1>

      </nav>
    </main>
  </div>
</header>

<h1>¡Ten tu própio personaje en el juego!</h1>
<div class="gallery-wrapper">
  <button class="scroll-btn left">‹</button>
  <div class="gallery" id="carousel">
    <div class="card">
      <img src="imagenes/comision1.gif" alt="Comisión 1">
    </div>
    <div class="card">
      <img src="imagenes/comision2.gif" alt="Comisión 2">
    </div>
    <div class="card">
      <img src="imagenes/comision3.gif" alt="Comisión 3">
    </div>
    <div class="card">
      <img src="imagenes/comision4.gif" alt="Comisión 4">
    </div>
    <div class="card">
      <img src="imagenes/comision5.gif" alt="Comisión 5">
    </div>
    <div class="card">
      <img src="imagenes/comision6.gif" alt="Comisión 5">
    </div>
    <div class="card">
      <img src="imagenes/comision7.gif" alt="Comisión 5">
    </div>
    <div class="card">
      <img src="imagenes/comision8.gif" alt="Comisión 5">
    </div>
    <div class="card">
      <img src="imagenes/comision9.gif" alt="Comisión 5">
    </div>
    <div class="card">
      <img src="imagenes/comision10.gif" alt="Comisión 5">
    </div>
  </div>
  <button class="scroll-btn right">›</button>
</div>

<div class="comision-center">
  <a href="https://ko-fi.com/imvermilion/commissions" target="_blank" class="comision-button">
    ¡Pide tu personaje!
  </a>
  <p>Para ayudar al desarrollo del juego tienes la oportunidad de encargarme un personaje, ya sea inspirado en ti o en una idea tuya. El personaje tendrá el nombre y aspecto que desees
    y formará parte del juego, aunque la importancia que quieras que tenga en el juego y su historia depende de tí al elegir la comisión.
    
    Esto me ayuda a seguir adelante con el desarrollo e invertir lo ganado en mejorar el juego y la experiéncia de los usuarios.
</p>
</div>


  <div class="customizer-container">
  <!-- Personaje -->
  <div id="character-container">
    <img id="hair-layer" src="assets/pelo-rojo.png" alt="Pelo">
    <img id="clothes-layer" src="assets/ropa1.png" alt="Ropa">
  </div>

  <!-- Opciones -->
  <div class="options-panel">
  <div>
    <label for="hair-selector">Pelo:</label><br>
    <select id="hair-selector">
      <option value="pelo-rojo.png">Rojo</option>
      <option value="pelo-negro.png">Negro</option>
      <option value="pelo-marron.png">Castaño</option>
      <option value="pelo-rubio.png">Rubio</option>
    </select>
  </div>
  <div>
    <label for="clothes-selector">Ropa:</label><br>
    <select id="clothes-selector">
      <option value="ropa1.png">Ropa 1</option>
      <option value="ropa2.png">Ropa 2</option>
    </select>
  </div>
  <!-- Botón para guardar la imagen -->
  <button id="save-btn" style="margin-top:1rem; padding:0.5rem; font-size:1rem;">Guardar imagen</button>
</div>

<script>
  // Cambiar pelo
  document.getElementById("hair-selector").addEventListener("change", function(e) {
    document.getElementById("hair-layer").src = "assets/" + e.target.value;
  });

  // Cambiar ropa
  document.getElementById("clothes-selector").addEventListener("change", function(e) {
    document.getElementById("clothes-layer").src = "assets/" + e.target.value;
  });

  // Guardar imagen como PNG
  document.getElementById('save-btn').addEventListener('click', () => {
    const canvas = document.createElement('canvas');
    const size = 64; // tamaño original de tus sprites
    canvas.width = size;
    canvas.height = size;
    const ctx = canvas.getContext('2d');

    const layers = [
      document.getElementById('hair-layer'),
      document.getElementById('clothes-layer')
    ];

    layers.forEach(img => {
      if (img.complete) {
        ctx.drawImage(img, 0, 0, size, size);
      }
    });

    // Descargar imagen
    const link = document.createElement('a');
    link.download = 'personaje.png';
    link.href = canvas.toDataURL('image/png');
    link.click();
  });
</script>

<script>
  const carousel = document.getElementById('carousel');
  const btnLeft = document.querySelector('.scroll-btn.left');
  const btnRight = document.querySelector('.scroll-btn.right');

  btnLeft.addEventListener('click', () => {
    carousel.scrollBy({ left: -300, behavior: 'smooth' });
  });

  btnRight.addEventListener('click', () => {
    carousel.scrollBy({ left: 300, behavior: 'smooth' });
  });
</script>
</main>
  <footer class="pie"> 
    <p>© 2025 Vermilion Games™ | Todos los derechos reservados</p> 
  </footer> 
  <div class="kofi-flotante">
  <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
  <script type='text/javascript'>
    kofiwidget2.init('Apóyame en Ko-fi', '#ff1a00', 'X8X13HI4V');
    kofiwidget2.draw();
  </script>
</div>




</body>
</body>
</html>